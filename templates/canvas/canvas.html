<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>


<script type="text/javascript">
$(document).ready(function() {
  $("#DragDiv").draggable({ 
     start: function (e,ui){
       $(this).fadeTo(200, 0.3);
     },
     stop: function (e,ui){
       $(this).fadeTo(200, 1.0);
       $.post('/canvas/save/', {elem_num: '1', X: $(this).position().left , Y: $(this).position().top });
     }
  });
});
</script>


<style type="text/css">
 #DragDiv
 {
  height:100px;
  width:100px;
  background-color:white;
  position:relative;
 }
</style>
<script type="text/javascript">
 window.onload = function()
 {
  XDiv = document.getElementById("X");
  YDiv = document.getElementById("Y");
  DragDiv.style.left = {{ x_cord }} + "px";
  DragDiv.style.top = {{ y_cord }} + "px";
  DragDiv.onmousedown = function()
  {
   Dragging = true;
  }
 }
 
 document.onmousemove = function(e)
 {
  if (!e) e = window.event;
  if (Dragging)
  {
   XDiv.innerHTML = $("#DragDiv").position().left;
   YDiv.innerHTML = $("#DragDiv").position().top;
  }
 }
 
 document.onmouseup = function()
 {
  Dragging = false;
  var x_cord = DragDiv.style.left;
  var y_cord = DragDiv.style.top;
  x_cord = x_cord.slice(0,x_cord.length-2);
  y_cord = y_cord.slice(0,y_cord.length-2);
  SaveUrl = "/canvas/save/1/" + x_cord + "/" + y_cord + "/";
  XDiv.innerHTML = SaveUrl
 }
</script>
<title>Simple Drag</title>
</head>

<body>
<div id="X">{{ x_cord }}</div> : <div id="Y">{{ y_cord }}</div>
<div id="DragDiv"><img src="http://blogs.smh.com.au/lifestyle/allmenareliars/penis.jpg"></div>
</body>
</html>

