//v.3.0 build 110707

/*
Copyright DHTMLX LTD. http://www.dhtmlx.com
You allowed to use this component or parts of it under GPL terms
To use it on other terms or get Professional edition of the component please contact us at sales@dhtmlx.com
*/
function dhtmlXToolbarObject(b,d){var a=this;for(this.cont=typeof b!="object"?document.getElementById(b):b;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.dir="ltr";this.cont.innerHTML+="<div class='dhxtoolbar_hdrline_ll'></div><div class='dhxtoolbar_hdrline_rr'></div><div class='dhxtoolbar_hdrline_l'></div><div class='dhxtoolbar_hdrline_r'></div>";this.base=document.createElement("DIV");this.base.className="float_left";this.cont.appendChild(this.base);this.align=
"left";this.setAlign=function(a){this.align=a=="right"?"right":"left";this.base.className=a=="right"?"float_right":"float_left";if(this._spacer)this._spacer.className="dhxtoolbar_spacer "+(a=="right"?" float_left":" float_right")};this._isIE6=!1;if(_isIE)this._isIE6=window.XMLHttpRequest==null?!0:!1;if(this._isIPad=navigator.userAgent.search(/iPad/gi)>=0)this.cont.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=
0;this.setSkin=function(a){this.skin=a;if(this.skin=="dhx_skyblue")this.selectPolygonOffsetTop=2;if(this.skin=="dhx_web")this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=1;this.cont.className="dhx_toolbar_base_"+this.skin+(this.rtl?" rtl":"");for(var b in this.objPull){var d=this.objPull[b];if(d.type=="slider")d.pen._detectLimits(),d.pen._definePos(),d.label.className="dhx_toolbar_slider_label_"+this.skin+(this.rtl?" rtl":"");if(d.type=="buttonSelect")d.polygon.className="dhx_toolbar_poly_"+
this.skin+(this.rtl?" rtl":"")}};this.setSkin(d==null?"dhx_skyblue":d);this.objPull={};this.anyUsed="none";this.imagePath="";this.setIconPath=this.setIconsPath=function(a){this.imagePath=a};this._doOnLoad=function(){};this.loadXML=function(a,b){if(b!=null)this._doOnLoad=function(){b()};this.callEvent("onXLS",[]);this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this._xmlLoader.loadXML(a)};this.loadXMLString=function(a,b){if(b!=null)this._doOnLoad=function(){b()};this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,
window);this._xmlLoader.loadXMLString(a)};this._xmlParser=function(){for(var c=this.getXMLTopNode("toolbar"),b="id,type,hidden,title,text,enabled,img,imgdis,action,openAll,renderSelect,maxOpen,width,value,selected,length,textMin,textMax,toolTip,valueMin,valueMax,valueNow".split(","),d="id,type,enabled,disabled,action,selected,img,text".split(","),g=0;g<c.childNodes.length;g++)if(c.childNodes[g].tagName=="item"){for(var i={},j=0;j<b.length;j++)i[b[j]]=c.childNodes[g].getAttribute(b[j]);i.items=[];
i.userdata=[];for(var k=0;k<c.childNodes[g].childNodes.length;k++){if(c.childNodes[g].childNodes[k].tagName=="item"&&i.type=="buttonSelect"){for(var h={},j=0;j<d.length;j++)h[d[j]]=c.childNodes[g].childNodes[k].getAttribute(d[j]);try{h.itemText=c.childNodes[g].childNodes[k].getElementsByTagName("itemText")[0].firstChild.nodeValue}catch(l){}for(var n=c.childNodes[g].childNodes[k].getElementsByTagName("userdata"),j=0;j<n.length;j++){if(!h.userdata)h.userdata={};var m={};try{m.name=n[j].getAttribute("name")}catch(o){m.name=
""}try{m.value=n[j].firstChild.nodeValue}catch(p){m.value=""}if(m.name!="")h.userdata[m.name]=m.value}i.items[i.items.length]=h}if(c.childNodes[g].childNodes[k].tagName=="userdata"){h={};try{h.name=c.childNodes[g].childNodes[k].getAttribute("name")}catch(q){h.name=""}try{h.value=c.childNodes[g].childNodes[k].firstChild.nodeValue}catch(r){h.value=""}i.userdata[i.userdata.length]=h}}a._addItemToStorage(i)}a.callEvent("onXLE",[]);a._doOnLoad();this.destructor()};this._addItemToStorage=function(a,b){var d=
a.id||this._genStr(24),g=a.type||"";if(g!=""&&this["_"+g+"Object"]!=null)this.objPull[this.idPrefix+d]=new this["_"+g+"Object"](this,d,a),this.objPull[this.idPrefix+d].type=g,this.setPosition(d,b);if(a.userdata)for(var i=0;i<a.userdata.length;i++)this.setUserData(d,a.userdata[i].name,a.userdata[i].value)};this._genStr=function(a){for(var b="",d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=0;g<a;g++)b+=d.charAt(Math.round(Math.random()*(d.length-1)));return b};this.rootTypes=
"button,buttonSelect,buttonTwoState,separator,label,slider,text,buttonInput".split(",");this.idPrefix=this._genStr(12);dhtmlxEventable(this);this._getObj=function(a,b){for(var d=null,g=0;g<a.childNodes.length;g++)a.childNodes[g].tagName!=null&&String(a.childNodes[g].tagName).toLowerCase()==String(b).toLowerCase()&&(d=a.childNodes[g]);return d};this._addImgObj=function(a){var b=document.createElement("IMG");a.childNodes.length>0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b);return b};this._setItemImage=
function(a,b,d){d==!0?a.imgEn=b:a.imgDis=b;if(!(!a.state&&d==!0||a.state&&d==!1)){var g=this._getObj(a.obj,"img");g==null&&(g=this._addImgObj(a.obj));g.src=this.imagePath+b}};this._clearItemImage=function(a,b){b==!0?a.imgEn="":a.imgDis="";if(!(!a.state&&b==!0||a.state&&b==!1)){var d=this._getObj(a.obj,"img");d!=null&&d.parentNode.removeChild(d)}};this._setItemText=function(a,b){var d=this._getObj(a.obj,"div");b==null||b.length==0?d!=null&&d.parentNode.removeChild(d):(d==null&&(d=document.createElement("DIV"),
a.obj.appendChild(d)),d.innerHTML=b)};this._getItemText=function(a){var b=this._getObj(a.obj,"div");return b!=null?b.innerHTML:""};this._enableItem=function(a){if(!a.state){a.state=!0;this.objPull[a.id].type=="buttonTwoState"&&this.objPull[a.id].obj.pressed==!0?(a.obj.className="dhx_toolbar_btn pres",a.obj.renderAs="dhx_toolbar_btn over"):(a.obj.className="dhx_toolbar_btn def",a.obj.renderAs=a.obj.className);if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,
"img");a.imgEn!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgEn):b!=null&&b.parentNode.removeChild(b)}};this._disableItem=function(a){if(a.state){a.state=!1;a.obj.className="dhx_toolbar_btn dis";a.obj.renderAs="dhx_toolbar_btn def";if(a.arw)a.arw.className=String(a.obj.className).replace("btn","arw");var b=this._getObj(a.obj,"img");a.imgDis!=""?(b==null&&(b=this._addImgObj(a.obj)),b.src=this.imagePath+a.imgDis):b!=null&&b.parentNode.removeChild(b);if(a.polygon!=null&&a.polygon.style.display!=
"none"&&(a.polygon.style.display="none",a.polygon._ie6cover))a.polygon._ie6cover.style.display="none";this.anyUsed="none"}};this.clearAll=function(){for(var a in this.objPull)this._removeItem(String(a).replace(this.idPrefix,""))};this._isWebToolbar=!0;this._doOnClick=function(){a.forEachItem(function(b){if(a.objPull[a.idPrefix+b].type=="buttonSelect"){var d=a.objPull[a.idPrefix+b];if(d.polygon.style.display!="none"&&(d.obj.renderAs="dhx_toolbar_btn def",d.obj.className=d.obj.renderAs,d.arw.className=
String(d.obj.renderAs).replace("btn","arw"),a.anyUsed="none",d.polygon.style.display="none",d.polygon._ie6cover))d.polygon._ie6cover.style.display="none"}})};this._isIPad?document.addEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.attachEvent("onclick",this._doOnClick):window.addEventListener("click",this._doOnClick,!1);return this}
dhtmlXToolbarObject.prototype.addSpacer=function(b){var d=this.idPrefix+b;if(this._spacer!=null){if(this._spacer.idd!=b)if(this._spacer==this.objPull[d].obj.parentNode){for(var a=!0;a;){var c=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]);if(c==b||this._spacer.childNodes.length==0)this.objPull[d].arw!=null&&this.base.appendChild(this.objPull[d].arw),a=!1}this._spacer.idd=b}else if(this.base==this.objPull[d].obj.parentNode){for(var a=!0,e=this.objPull[d].arw!=null;a;){var f=
this.base.childNodes.length-1;e==!0&&this.base.childNodes[f]==this.objPull[d].arw&&(a=!1);this.base.childNodes[f].idd==b&&(a=!1);a&&(this._spacer.childNodes.length>0?this._spacer.insertBefore(this.base.childNodes[f],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[f]))}this._spacer.idd=b}}else{for(var g=null,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f]==this.objPull[this.idPrefix+b].obj&&(g=f,this.objPull[this.idPrefix+b].arw!=null&&(g=f+1));if(g!=null){this._spacer=
document.createElement("DIV");this._spacer.className="dhxtoolbar_spacer "+(this.align=="right"?" float_left":" float_right");this._spacer.dir="rtl";for(this._spacer.idd=b;this.base.childNodes.length>g+1;)this._spacer.appendChild(this.base.childNodes[g+1]);this.cont.appendChild(this._spacer)}}};
dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;this._spacer.childNodes.length>0;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer);this._spacer=null}};
dhtmlXToolbarObject.prototype.getType=function(b){var d=this.getParentId(b);if(d!=null){var a=null,c=this.objPull[this.idPrefix+d]._listOptions[b];c!=null&&(a=c.sep!=null?"buttonSelectSeparator":"buttonSelectButton");return a}else return this.objPull[this.idPrefix+b]==null?null:this.objPull[this.idPrefix+b].type};dhtmlXToolbarObject.prototype.getTypeExt=function(b){var d=this.getType(b);return d=="buttonSelectButton"||d=="buttonSelectSeparator"?d=d=="buttonSelectButton"?"button":"separator":null};
dhtmlXToolbarObject.prototype.inArray=function(b,d){for(var a=0;a<b.length;a++)if(b[a]==d)return!0;return!1};dhtmlXToolbarObject.prototype.getParentId=function(b){var d=null,a;for(a in this.objPull)if(this.objPull[a]._listOptions)for(var c in this.objPull[a]._listOptions)c==b&&(d=String(a).replace(this.idPrefix,""));return d};dhtmlXToolbarObject.prototype._addItem=function(b,d){this._addItemToStorage(b,d)};
dhtmlXToolbarObject.prototype.addButton=function(b,d,a,c,e){this._addItem({id:b,type:"button",text:a,img:c,imgdis:e},d)};dhtmlXToolbarObject.prototype.addText=function(b,d,a){this._addItem({id:b,type:"text",text:a},d)};
dhtmlXToolbarObject.prototype.addButtonSelect=function(b,d,a,c,e,f,g,i,j){for(var k=[],h=0;h<c.length;h++){var l={};c[h].id&&c[h].type?(l.id=c[h].id,l.type=c[h].type=="obj"?"button":"separator",l.text=c[h].text,l.img=c[h].img):(l.id=c[h][0],l.type=c[h][1]=="obj"?"button":"separator",l.text=c[h][2]||null,l.img=c[h][3]||null);k[k.length]=l}this._addItem({id:b,type:"buttonSelect",text:a,img:e,imgdis:f,renderSelect:g,openAll:i,items:k,maxOpen:j},d)};
dhtmlXToolbarObject.prototype.addButtonTwoState=function(b,d,a,c,e){this._addItem({id:b,type:"buttonTwoState",img:c,imgdis:e,text:a},d)};dhtmlXToolbarObject.prototype.addSeparator=function(b,d){this._addItem({id:b,type:"separator"},d)};dhtmlXToolbarObject.prototype.addSlider=function(b,d,a,c,e,f,g,i,j){this._addItem({id:b,type:"slider",length:a,valueMin:c,valueMax:e,valueNow:f,textMin:g,textMax:i,toolTip:j},d)};
dhtmlXToolbarObject.prototype.addInput=function(b,d,a,c){this._addItem({id:b,type:"buttonInput",value:a,width:c},d)};dhtmlXToolbarObject.prototype.forEachItem=function(b){for(var d in this.objPull)this.inArray(this.rootTypes,this.objPull[d].type)&&b(this.objPull[d].id.replace(this.idPrefix,""))};
(function(){for(var b="showItem,hideItem,isVisible,enableItem,disableItem,isEnabled,setItemText,getItemText,setItemToolTip,getItemToolTip,setItemImage,setItemImageDis,clearItemImage,clearItemImageDis,setItemState,getItemState,setItemToolTipTemplate,getItemToolTipTemplate,setValue,getValue,setMinValue,getMinValue,setMaxValue,getMaxValue,setWidth,getWidth,setMaxOpen".split(","),d=["","",!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],a=function(a,b){return function(c,
d,e){c=this.idPrefix+c;return this.objPull[c][a]!=null?this.objPull[c][a].call(this.objPull[c],d,e):b}},c=0;c<b.length;c++){var e=b[c],f=d[c];dhtmlXToolbarObject.prototype[e]=a(e,f)}})();dhtmlXToolbarObject.prototype.getPosition=function(b){return this._getPosition(b)};
dhtmlXToolbarObject.prototype._getPosition=function(b){if(this.objPull[this.idPrefix+b]==null)return null;for(var d=null,a=0,c=0;c<this.base.childNodes.length;c++)this.base.childNodes[c].idd!=null&&(this.base.childNodes[c].idd==b&&(d=a),a++);if(!d&&this._spacer!=null)for(c=0;c<this._spacer.childNodes.length;c++)this._spacer.childNodes[c].idd!=null&&(this._spacer.childNodes[c].idd==b&&(d=a),a++);return d};dhtmlXToolbarObject.prototype.setPosition=function(b,d){this._setPosition(b,d)};
dhtmlXToolbarObject.prototype._setPosition=function(b,d){if(this.objPull[this.idPrefix+b]!=null){if(isNaN(d))d=this.base.childNodes.length;d<0&&(d=0);var a=null;if(this._spacer)a=this._spacer.idd,this.removeSpacer();var c=this.objPull[this.idPrefix+b];this.base.removeChild(c.obj);c.arw&&this.base.removeChild(c.arw);var e=this._getIdByPosition(d,!0);e[0]==null?(this.base.appendChild(c.obj),c.arw&&this.base.appendChild(c.arw)):(this.base.insertBefore(c.obj,this.base.childNodes[e[1]]),c.arw&&this.base.insertBefore(c.arw,
this.base.childNodes[e[1]+1]));a!=null&&this.addSpacer(a)}};dhtmlXToolbarObject.prototype._getIdByPosition=function(b,d){for(var a=null,c=0,e=0,f=0;f<this.base.childNodes.length;f++)this.base.childNodes[f].idd!=null&&a==null&&c++==b&&(a=this.base.childNodes[f].idd),a==null&&e++;e=a==null?null:e;return d==!0?[a,e]:a};dhtmlXToolbarObject.prototype.removeItem=function(b){this._removeItem(b)};
dhtmlXToolbarObject.prototype._removeItem=function(b){var d=this.getType(b),b=this.idPrefix+b,a=this.objPull[b];if(d=="button")a.obj._doOnMouseOver=null,a.obj._doOnMouseOut=null,a.obj._doOnMouseUp=null,a.obj._doOnMouseUpOnceAnywhere=null,a.obj.onclick=null,a.obj.onmouseover=null,a.obj.onmouseout=null,a.obj.onmouseup=null,a.obj.onmousedown=null,a.obj.onselectstart=null,a.obj.renderAs=null,a.obj.idd=null,a.obj.parentNode.removeChild(a.obj),a.obj=null,a.id=null,a.state=null,a.img=null,a.imgEn=null,a.imgDis=
null,a.type=null,a.enableItem=null,a.disableItem=null,a.isEnabled=null,a.showItem=null,a.hideItem=null,a.isVisible=null,a.setItemText=null,a.getItemText=null,a.setItemImage=null,a.clearItemImage=null,a.setItemImageDis=null,a.clearItemImageDis=null,a.setItemToolTip=null,a.getItemToolTip=null;if(d=="buttonTwoState")a.obj._doOnMouseOver=null,a.obj._doOnMouseOut=null,a.obj.onmouseover=null,a.obj.onmouseout=null,a.obj.onmousedown=null,a.obj.onselectstart=null,a.obj.renderAs=null,a.obj.idd=null,a.obj.parentNode.removeChild(a.obj),
a.obj=null,a.id=null,a.state=null,a.img=null,a.imgEn=null,a.imgDis=null,a.type=null,a.enableItem=null,a.disableItem=null,a.isEnabled=null,a.showItem=null,a.hideItem=null,a.isVisible=null,a.setItemText=null,a.getItemText=null,a.setItemImage=null,a.clearItemImage=null,a.setItemImageDis=null,a.clearItemImageDis=null,a.setItemToolTip=null,a.getItemToolTip=null,a.setItemState=null,a.getItemState=null;if(d=="buttonSelect"){for(var c in a._listOptions)this.removeListOption(b,c);a._listOptions=null;if(a.polygon._ie6cover)document.body.removeChild(a.polygon._ie6cover),
a.polygon._ie6cover=null;a.p_tbl.removeChild(a.p_tbody);a.polygon.removeChild(a.p_tbl);a.polygon.onselectstart=null;document.body.removeChild(a.polygon);a.p_tbody=null;a.p_tbl=null;a.polygon=null;a.obj.onclick=null;a.obj.onmouseover=null;a.obj.onmouseout=null;a.obj.onmouseup=null;a.obj.onmousedown=null;a.obj.onselectstart=null;a.obj.idd=null;a.obj.iddPrefix=null;a.obj.parentNode.removeChild(a.obj);a.obj=null;a.arw.onclick=null;a.arw.onmouseover=null;a.arw.onmouseout=null;a.arw.onmouseup=null;a.arw.onmousedown=
null;a.arw.onselectstart=null;a.arw.parentNode.removeChild(a.arw);a.arw=null;a.renderSelect=null;a.state=null;a.type=null;a.id=null;a.img=null;a.imgEn=null;a.imgDis=null;a.openAll=null;a._isListButton=null;a._separatorButtonSelectObject=null;a._buttonButtonSelectObject=null;a.setWidth=null;a.enableItem=null;a.disableItem=null;a.isEnabled=null;a.showItem=null;a.hideItem=null;a.isVisible=null;a.setItemText=null;a.getItemText=null;a.setItemImage=null;a.clearItemImage=null;a.setItemImageDis=null;a.clearItemImageDis=
null;a.setItemToolTip=null;a.getItemToolTip=null;a.addListOption=null;a.removeListOption=null;a.showListOption=null;a.hideListOption=null;a.isListOptionVisible=null;a.enableListOption=null;a.disableListOption=null;a.isListOptionEnabled=null;a.setListOptionPosition=null;a.getListOptionPosition=null;a.setListOptionImage=null;a.getListOptionImage=null;a.clearListOptionImage=null;a.setListOptionText=null;a.getListOptionText=null;a.setListOptionToolTip=null;a.getListOptionToolTip=null;a.forEachListOption=
null;a.getAllListOptions=null;a.setListOptionSelected=null;a.getListOptionSelected=null}if(d=="buttonInput")a.obj.childNodes[0].onkeydown=null,a.obj.removeChild(a.obj.childNodes[0]),a.obj.w=null,a.obj.idd=null,a.obj.parentNode.removeChild(a.obj),a.obj=null,a.id=null,a.type=null,a.enableItem=null,a.disableItem=null,a.isEnabled=null,a.showItem=null,a.hideItem=null,a.isVisible=null,a.setItemToolTip=null,a.getItemToolTip=null,a.setWidth=null,a.getWidth=null,a.setValue=null,a.getValue=null,a.setItemText=
null,a.getItemText=null;if(d=="slider"){this._isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):_isIE?(document.body.detachEvent("onmousemove",a.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",a.pen._doOnMouseMoveEnd)):(window.removeEventListener("mousemove",a.pen._doOnMouseMoveStart,!1),window.removeEventListener("mouseup",a.pen._doOnMouseMoveEnd,!1));a.pen.allowMove=null;a.pen.initXY=null;
a.pen.maxX=null;a.pen.minX=null;a.pen.nowX=null;a.pen.newNowX=null;a.pen.valueMax=null;a.pen.valueMin=null;a.pen.valueNow=null;a.pen._definePos=null;a.pen._detectLimits=null;a.pen._doOnMouseMoveStart=null;a.pen._doOnMouseMoveEnd=null;a.pen.onmousedown=null;a.obj.removeChild(a.pen);a.pen=null;a.label.tip=null;document.body.removeChild(a.label);a.label=null;a.obj.onselectstart=null;for(a.obj.idd=null;a.obj.childNodes.length>0;)a.obj.removeChild(a.obj.childNodes[0]);a.obj.parentNode.removeChild(a.obj);
a.obj=null;a.id=null;a.type=null;a.state=null;a.enableItem=null;a.disableItem=null;a.isEnabled=null;a.setItemToolTipTemplate=null;a.getItemToolTipTemplate=null;a.setMaxValue=null;a.setMinValue=null;a.getMaxValue=null;a.getMinValue=null;a.setValue=null;a.getValue=null;a.showItem=null;a.hideItem=null;a.isVisible=null}if(d=="separator")a.obj.onselectstart=null,a.obj.idd=null,a.obj.parentNode.removeChild(a.obj),a.obj=null,a.id=null,a.type=null,a.showItem=null,a.hideItem=null,a.isVisible=null;if(d=="text")a.obj.onselectstart=
null,a.obj.idd=null,a.obj.parentNode.removeChild(a.obj),a.obj=null,a.id=null,a.type=null,a.showItem=null,a.hideItem=null,a.isVisible=null,a.setWidth=null,a.setItemText=null,a.getItemText=null;a=d=null;this.objPull[this.idPrefix+b]=null;delete this.objPull[this.idPrefix+b]};
(function(){for(var b="addListOption,removeListOption,showListOption,hideListOption,isListOptionVisible,enableListOption,disableListOption,isListOptionEnabled,setListOptionPosition,getListOptionPosition,setListOptionText,getListOptionText,setListOptionToolTip,getListOptionToolTip,setListOptionImage,getListOptionImage,clearListOptionImage,forEachListOption,getAllListOptions,setListOptionSelected,getListOptionSelected".split(","),d=function(a){return function(b,g,c,d,k,h){b=this.idPrefix+b;if(this.objPull[b]!=
null)return this.objPull[b].type!="buttonSelect"?void 0:this.objPull[b][a].call(this.objPull[b],g,c,d,k,h)}},a=0;a<b.length;a++){var c=b[a];dhtmlXToolbarObject.prototype[c]=d(c)}})();dhtmlXToolbarObject.prototype._rtlParseBtn=function(b,d){return b+d};
dhtmlXToolbarObject.prototype._separatorObject=function(b,d,a){this.id=b.idPrefix+d;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_sep";this.obj.style.display=a.hidden!=null?"none":"";this.obj.idd=String(d);this.obj.title=a.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(b._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};b.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};return this};
dhtmlXToolbarObject.prototype._textObject=function(b,d,a){this.id=b.idPrefix+d;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_text";this.obj.style.display=a.hidden!=null?"none":"";this.obj.idd=String(d);this.obj.title=a.title||"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};if(b._isIPad)this.obj.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.obj.innerHTML=a.text||"";b.base.appendChild(this.obj);this.showItem=function(){this.obj.style.display=
""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){this.obj.innerHTML=a};this.getItemText=function(){return this.obj.innerHTML};this.setWidth=function(a){this.obj.style.width=a+"px"};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._buttonObject=function(b,d,a){this.id=b.idPrefix+d;this.state=a.enabled!=null?!1:!0;this.imgEn=a.img||"";this.imgDis=a.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=a.hidden!=null?"none":"";this.obj.allowClick=!1;this.obj.extAction=a.action||null;this.obj.renderAs=this.obj.className;this.obj.idd=String(d);
this.obj.title=a.title||"";this.obj.pressed=!1;this.obj.innerHTML=b._rtlParseBtn(this.img!=""?"<img src='"+b.imagePath+this.img+"'>":"",a.text!=null?"<div>"+a.text+"</div>":"");var c=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};this.obj._doOnMouseOver=function(){this.allowClick=!0;if(c.state!=!1&&b.anyUsed=="none")this.renderAs=this.className="dhx_toolbar_btn over"};
this.obj._doOnMouseOut=function(){this.allowClick=!1;if(c.state!=!1&&b.anyUsed=="none")this.className="dhx_toolbar_btn def",this.renderAs=this.renderAs};this.obj.onclick=function(a){if(c.state!=!1&&this.allowClick!=!1){var a=a||event,d=this.idd.replace(b.idPrefix,"");if(this.extAction)try{window[this.extAction](d)}catch(g){}b&&b.callEvent&&b.callEvent("onClick",[d])}};this.obj[b._isIPad?"ontouchstart":"onmousedown"]=function(a){if(c.state==!1)return a=a||event,a.returnValue=!1,a.cancelBubble=!0,!1;
if(b.anyUsed=="none")return b.anyUsed=this.idd,this.className="dhx_toolbar_btn pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){b.anyUsed="none";this._doOnMouseOut()},!1};this.obj[b._isIPad?"ontouchend":"onmouseup"]=function(){if(c.state!=!1&&!(b.anyUsed!="none"&&b.anyUsed!=this.idd)){var a=b.anyUsed;this._doOnMouseUp();b._isIPad&&a!="none"&&b.callEvent("onClick",[this.idd.replace(b.idPrefix,"")])}};if(b._isIPad)this.obj.ontouchmove=function(){this._doOnMouseUp()};
this.obj._doOnMouseUp=function(){b.anyUsed="none";this.className=this.renderAs;this.pressed=!1};this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp();this.onmouseover=function(){this._doOnMouseOver()};this.onmouseout=function(){this._doOnMouseOut()}};b.base.appendChild(this.obj);this.enableItem=function(){b._enableItem(this)};this.disableItem=function(){b._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display=
"none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){b._setItemText(this,a)};this.getItemText=function(){return b._getItemText(this)};this.setItemImage=function(a){b._setItemImage(this,a,!0)};this.clearItemImage=function(){b._clearItemImage(this,!0)};this.setItemImageDis=function(a){b._setItemImage(this,a,!1)};this.clearItemImageDis=function(){b._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};
return this};
dhtmlXToolbarObject.prototype._buttonSelectObject=function(b,d,a){this.id=b.idPrefix+d;this.state=a.enabled!=null?a.enabled=="true"?!0:!1:!0;this.imgEn=a.img||"";this.imgDis=a.imgdis||"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.openAll=a.openAll!=null;this.maxOpen=!isNaN(a.maxOpen?a.maxOpen:"")?a.maxOpen:null;this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!b._sbw){var a=document.createElement("DIV");a.className="dhxtoolbar_maxopen_test";document.body.appendChild(a);
var c=document.createElement("DIV");c.className="dhxtoolbar_maxopen_test2";a.appendChild(c);b._sbw=a.offsetWidth-c.offsetWidth;a.removeChild(c);c=null;document.body.removeChild(a);a=null}};this._maxOpenTest();this.obj=document.createElement("DIV");this.obj.allowClick=!1;this.obj.extAction=a.action||null;this.obj.className="dhx_toolbar_btn def";this.obj.style.display=a.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=
String(d);this.obj.title=a.title||"";this.callEvent=this.obj.pressed=!1;this.renderSelect=a.renderSelect!=null?a.renderSelect=="false"||a.renderSelect=="disabled"?!1:!0:!0;this.obj.innerHTML=b._rtlParseBtn(this.img!=""?"<img src='"+b.imagePath+this.img+"'>":"",a.text!=null?"<div>"+a.text+"</div>":"");b.base.appendChild(this.obj);this.arw=document.createElement("DIV");this.arw.className="dhx_toolbar_arw def";this.arw.style.display=this.obj.style.display;this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>";
this.arw.title=this.obj.title;this.arw.onselectstart=function(a){a=a||event;a.returnValue=!1};b.base.appendChild(this.arw);var c=this;this.obj.onmouseover=function(a){a=a||event;if(b.anyUsed=="none"&&c.state)c.obj.renderAs="dhx_toolbar_btn over",c.obj.className=c.obj.renderAs,c.arw.className=String(c.obj.renderAs).replace("btn","arw")};this.obj.onmouseout=function(){c.obj.allowClick=!1;if(b.anyUsed=="none"&&c.state)c.obj.renderAs="dhx_toolbar_btn def",c.obj.className=c.obj.renderAs,c.arw.className=
String(c.obj.renderAs).replace("btn","arw"),c.callEvent=!1};this.arw.onmouseover=this.obj.onmouseover;this.arw.onmouseout=this.obj.onmouseout;if(this.openAll!=!0)this.obj.onclick=function(a){a=a||event;if(c.obj.allowClick&&c.state&&b.anyUsed=="none"){var d=c.obj.idd.replace(b.idPrefix,"");if(c.obj.extAction)try{window[c.obj.extAction](d)}catch(e){}b.callEvent("onClick",[d])}},this.obj[b._isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;if(b.anyUsed=="none"&&c.state)c.obj.allowClick=!0,
c.obj.className="dhx_toolbar_btn pres",c.arw.className="dhx_toolbar_arw pres",c.callEvent=!0},this.obj[b._isIPad?"ontouchend":"onmouseup"]=function(a){a=a||event;a.cancelBubble=!0;if(b.anyUsed=="none"&&c.state&&(c.obj.className=c.obj.renderAs,c.arw.className=String(c.obj.renderAs).replace("btn","arw"),b._isIPad&&c.callEvent)){var d=c.obj.idd.replace(b.idPrefix,"");b.callEvent("onClick",[d])}};if(b._isIPad)this.obj.ontouchmove=this.obj.onmouseout;this.arw[b._isIPad?"ontouchstart":"onmousedown"]=function(a){a=
a||event;if(c.state){if(b.anyUsed==c.obj.idd){if(c.obj.className=c.obj.renderAs,c.arw.className=String(c.obj.renderAs).replace("btn","arw"),b.anyUsed="none",c.polygon.style.display="none",c.polygon._ie6cover)c.polygon._ie6cover.style.display="none"}else{if(b.anyUsed!="none"&&b.objPull[b.idPrefix+b.anyUsed].type=="buttonSelect"){var d=b.objPull[b.idPrefix+b.anyUsed];if(d.polygon.style.display!="none"&&(d.obj.renderAs="dhx_toolbar_btn def",d.obj.className=d.obj.renderAs,d.arw.className=String(c.obj.renderAs).replace("btn",
"arw"),d.polygon.style.display="none",d.polygon._ie6cover))d.polygon._ie6cover.style.display="none"}c.obj.className="dhx_toolbar_btn over";c.arw.className="dhx_toolbar_arw pres";b.anyUsed=c.obj.idd;c.polygon.style.top="0px";c.polygon.style.visibility="hidden";c.polygon.style.display="";c._fixMaxOpenHeight(c.maxOpen||null);b._autoDetectVisibleArea();var e=getAbsoluteTop(c.obj)+c.obj.offsetHeight+b.selectPolygonOffsetTop,f=c.polygon.offsetHeight;e+f>b.tY2&&c._fixMaxOpenHeight(Math.floor((b.tY2-e)/22));
c.polygon.style.top=e+"px";c.polygon.style.left=b.rtl?getAbsoluteLeft(c.obj)+c.obj.offsetWidth-c.polygon.offsetWidth+b.selectPolygonOffsetLeft+"px":getAbsoluteLeft(c.obj)+b.selectPolygonOffsetLeft+"px";c.polygon.style.visibility="visible";if(c.polygon._ie6cover)c.polygon._ie6cover.style.left=c.polygon.style.left,c.polygon._ie6cover.style.top=c.polygon.style.top,c.polygon._ie6cover.style.width=c.polygon.offsetWidth+"px",c.polygon._ie6cover.style.height=c.polygon.offsetHeight+"px",c.polygon._ie6cover.style.display=
""}return!1}};this.arw.onclick=function(a){a=a||event;a.cancelBubble=!0};this.arw[b._isIPad?"ontouchend":"onmouseup"]=function(a){a=a||event;a.cancelBubble=!0};if(this.openAll===!0&&(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,b._isIPad))this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend;this.obj.iddPrefix=b.idPrefix;this._listOptions={};this._fixMaxOpenHeight=function(a){var d="auto",e=!1;if(a!==
null){var f=0,h;for(h in this._listOptions)f++;f>a?(this._ph=22*a,d=this._ph+"px"):e=!0}this.polygon.style.width="auto";this.polygon.style.height="auto";if(!e&&c.maxOpen!=null)this.polygon.style.width=this.p_tbl.offsetWidth+b._sbw+"px",this.polygon.style.height=d};this._separatorButtonSelectObject=function(a,b,d){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.className="tr_sep";this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td=document.createElement("TD");
this.obj.td.colSpan="2";this.obj.td.className="td_btn_sep";this.obj.td.onselectstart=function(a){a=a||event;return a.returnValue=!1};isNaN(d)?d=c.p_tbody.childNodes.length+1:d<1&&(d=1);d>c.p_tbody.childNodes.length?c.p_tbody.appendChild(this.obj.tr):c.p_tbody.insertBefore(this.obj.tr,c.p_tbody.childNodes[d-1]);this.obj.tr.appendChild(this.obj.td);this.obj.sep=document.createElement("DIV");this.obj.sep.className="btn_sep";this.obj.sep.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td.appendChild(this.obj.sep);
c._listOptions[a]=this.obj;return this};this._buttonButtonSelectObject=function(a,d,e){this.obj={};this.obj.tr=document.createElement("TR");this.obj.tr.en=d.enabled=="false"?!1:d.disabled=="true"?!1:!0;this.obj.tr.extAction=d.action||null;this.obj.tr._selected=d.selected!=null;this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&c.renderSelect?" tr_btn_selected":"":" tr_btn_disabled");this.obj.tr.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.tr.idd=String(a);
if(d.userdata)this.obj.userData=d.userdata;isNaN(e)?e=c.p_tbody.childNodes.length+1:e<1&&(e=1);e>c.p_tbody.childNodes.length?c.p_tbody.appendChild(this.obj.tr):c.p_tbody.insertBefore(this.obj.tr,c.p_tbody.childNodes[e-1]);this.obj.td_a=document.createElement("TD");this.obj.td_a.className="td_btn_img";this.obj.td_a.onselectstart=function(a){a=a||event;return a.returnValue=!1};this.obj.td_b=document.createElement("TD");this.obj.td_b.className="td_btn_txt";this.obj.td_b.onselectstart=function(a){a=a||
event;return a.returnValue=!1};b.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b));if(d.img!=null)this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+b.imagePath+d.img+"' border='0'>";var f=d.text!=null?d.text:d.itemText||"";this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+f+"</div>";this.obj.tr[b._isIPad?"ontouchstart":"onmouseover"]=function(){if(this.en&&(!this._selected||
!c.renderSelect))this.className="tr_btn tr_btn_over"};this.obj.tr.onmouseout=function(){if(this.en)if(this._selected&&c.renderSelect){if(String(this.className).search("tr_btn_selected")==-1)this.className="tr_btn tr_btn_selected"}else this.className="tr_btn"};this.obj.tr[b._isIPad?"ontouchend":"onclick"]=function(a){a=a||event;a.cancelBubble=!0;if(this.en){c.setListOptionSelected(this.idd.replace(b.idPrefix,""));c.obj.renderAs="dhx_toolbar_btn def";c.obj.className=c.obj.renderAs;c.arw.className=String(c.obj.renderAs).replace("btn",
"arw");c.polygon.style.display="none";if(c.polygon._ie6cover)c.polygon._ie6cover.style.display="none";b.anyUsed="none";var d=this.idd.replace(b.idPrefix,"");if(this.extAction)try{window[this.extAction](d)}catch(g){}b.callEvent("onClick",[d])}};c._listOptions[a]=this.obj;return this};this.polygon=document.createElement("DIV");this.polygon.dir="ltr";this.polygon.style.display="none";this.polygon.style.zIndex=101;this.polygon.className="dhx_toolbar_poly_"+b.skin+(b.rtl?" rtl":"");this.polygon.onselectstart=
function(a){a=a||event;a.returnValue=!1};this.polygon.style.overflowY="auto";if(b._isIPad)this.polygon.ontouchstart=function(a){a=a||event;a.returnValue=!1;a.cancelBubble=!0;return!1};this.p_tbl=document.createElement("TABLE");this.p_tbl.className="buttons_cont";this.p_tbl.cellSpacing="0";this.p_tbl.cellPadding="0";this.p_tbl.border="0";this.polygon.appendChild(this.p_tbl);this.p_tbody=document.createElement("TBODY");this.p_tbl.appendChild(this.p_tbody);if(a.items)for(var e=0;e<a.items.length;e++){var f=
"_"+(a.items[e].type||"")+"ButtonSelectObject";typeof this[f]=="function"&&new this[f](a.items[e].id||b._genStr(24),a.items[e])}document.body.appendChild(this.polygon);if(b._isIE6)this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter="alpha(opacity=100)",this.polygon._ie6cover.style.display=
"none",this.polygon._ie6cover.setAttribute("src","javascript:false;"),document.body.appendChild(this.polygon._ie6cover);this.setWidth=function(a){this.obj.style.width=a-this.arw.offsetWidth+"px";this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px";this.p_tbl.style.width=this.polygon.style.width};this.enableItem=function(){b._enableItem(this)};this.disableItem=function(){b._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=
"";this.arw.style.display=""};this.hideItem=function(){this.obj.style.display="none";this.arw.style.display="none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){b._setItemText(this,a)};this.getItemText=function(){return b._getItemText(this)};this.setItemImage=function(a){b._setItemImage(this,a,!0)};this.clearItemImage=function(){b._clearItemImage(this,!0)};this.setItemImageDis=function(a){b._setItemImage(this,a,!1)};this.clearItemImageDis=function(){b._clearItemImage(this,
!1)};this.setItemToolTip=function(a){this.obj.title=a;this.arw.title=a};this.getItemToolTip=function(){return this.obj.title};this.addListOption=function(a,b,c,d,e){if(c=="button"||c=="separator"){var f={id:a,type:c,text:d,img:e};new this["_"+c+"ButtonSelectObject"](a,f,b)}};this.removeListOption=function(a){if(this._isListButton(a,!0)){var b=this._listOptions[a];if(b.td_a!=null&&b.td_b!=null){b.td_a.onselectstart=null;for(b.td_b.onselectstart=null;b.td_a.childNodes.length>0;)b.td_a.removeChild(b.td_a.childNodes[0]);
for(;b.td_b.childNodes.length>0;)b.td_b.removeChild(b.td_b.childNodes[0]);b.tr.onselectstart=null;b.tr.onmouseover=null;b.tr.onmouseout=null;for(b.tr.onclick=null;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);b.td_a=null;b.td_b=null}else{b.sep.onselectstart=null;b.td.onselectstart=null;for(b.tr.onselectstart=null;b.td.childNodes.length>0;)b.td.removeChild(b.td.childNodes[0]);for(;b.tr.childNodes.length>0;)b.tr.removeChild(b.tr.childNodes[0]);b.tr.parentNode.removeChild(b.tr);
b.sep=null;b.td=null}b=b.tr=null;this._listOptions[a]=null;try{delete this._listOptions[a]}catch(c){}}};this.showListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display=""};this.hideListOption=function(a){if(this._isListButton(a,!0))this._listOptions[a].tr.style.display="none"};this.isListOptionVisible=function(a){return!this._isListButton(a,!0)?void 0:this._listOptions[a].tr.style.display!="none"};this.enableListOption=function(a){if(this._isListButton(a))this._listOptions[a].tr.en=
!0,this._listOptions[a].tr.className="tr_btn"+(this._listOptions[a].tr._selected&&b.renderSelect?" tr_btn_selected":"")};this.disableListOption=function(a){if(this._isListButton(a))this._listOptions[a].tr.en=!1,this._listOptions[a].tr.className="tr_btn tr_btn_disabled"};this.isListOptionEnabled=function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.en};this.setListOptionPosition=function(a,b){if(this._listOptions[a]&&!(this.getListOptionPosition(a)==b||isNaN(b))){b<1&&(b=1);var c=
this._listOptions[a].tr;this.p_tbody.removeChild(c);b>this.p_tbody.childNodes.length?this.p_tbody.appendChild(c):this.p_tbody.insertBefore(c,this.p_tbody.childNodes[b-1]);c=null}};this.getListOptionPosition=function(a){var b=-1;if(!this._listOptions[a])return b;for(var c=0;c<this.p_tbody.childNodes.length;c++)this.p_tbody.childNodes[c]==this._listOptions[a].tr&&(b=c+1);return b};this.setListOptionImage=function(a,c){if(this._isListButton(a)){var d=this._listOptions[a].tr.childNodes[b.rtl?1:0];if(d.childNodes.length>
0)d.childNodes[0].src=b.imagePath+c;else{var e=document.createElement("IMG");e.className="btn_sel_img";e.src=b.imagePath+c;d.appendChild(e)}d=null}};this.getListOptionImage=function(a){if(this._isListButton(a)){var c=this._listOptions[a].tr.childNodes[b.rtl?1:0],d=null;if(c.childNodes.length>0)d=c.childNodes[0].src;c=null;return d}};this.clearListOptionImage=function(a){if(this._isListButton(a)){for(var c=this._listOptions[a].tr.childNodes[b.rtl?1:0];c.childNodes.length>0;)c.removeChild(c.childNodes[0]);
c=null}};this.setListOptionText=function(a,c){if(this._isListButton(a))this._listOptions[a].tr.childNodes[b.rtl?0:1].childNodes[0].innerHTML=c};this.getListOptionText=function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.childNodes[b.rtl?0:1].childNodes[0].innerHTML};this.setListOptionToolTip=function(a,b){if(this._isListButton(a))this._listOptions[a].tr.title=b};this.getListOptionToolTip=function(a){return!this._isListButton(a)?void 0:this._listOptions[a].tr.title};this.forEachListOption=
function(a){for(var b in this._listOptions)a(b)};this.getAllListOptions=function(){var a=[],b;for(b in this._listOptions)a[a.length]=b;return a};this.setListOptionSelected=function(a){for(var b in this._listOptions){var c=this._listOptions[b];if(c.td_a!=null&&c.td_b!=null&&c.tr.en)b==a?(c.tr._selected=!0,c.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":"")):(c.tr._selected=!1,c.tr.className="tr_btn");c=null}};this.getListOptionSelected=function(){var a=null,b;for(b in this._listOptions)this._listOptions[b].tr._selected==
!0&&(a=b);return a};this._isListButton=function(a,b){return this._listOptions[a]==null?!1:!b&&this._listOptions[a].tr.className=="tr_sep"?!1:!0};this.setMaxOpen=function(a){this._ph=null;typeof a=="number"?(this.maxOpen=a,this._maxOpenTest()):this.maxOpen=null};return this};
dhtmlXToolbarObject.prototype._buttonInputObject=function(b,d,a){this.id=b.idPrefix+d;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn def";this.obj.style.display=a.hidden!=null?"none":"";this.obj.idd=String(d);this.obj.w=a.width!=null?a.width:100;this.obj.title=a.title!=null?a.title:"";this.obj.innerHTML="<input class='inp' type='text' style='-moz-user-select:text;width:"+this.obj.w+"px;'"+(a.value!=null?"' value='"+a.value+"'":"")+">";var c=b,e=this;this.obj.childNodes[0].onkeydown=
function(a){a=a||event;a.keyCode==13&&c.callEvent("onEnter",[e.obj.idd,this.value])};b.base.appendChild(this.obj);this.enableItem=function(){this.obj.childNodes[0].disabled=!1};this.disableItem=function(){this.obj.childNodes[0].disabled=!0};this.isEnabled=function(){return!this.obj.childNodes[0].disabled};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display!="none"};this.setValue=function(a){this.obj.childNodes[0].value=
a};this.getValue=function(){return this.obj.childNodes[0].value};this.setWidth=function(a){this.obj.w=a;this.obj.childNodes[0].style.width=this.obj.w+"px"};this.getWidth=function(){return this.obj.w};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};return this};
dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(b,d,a){this.id=b.idPrefix+d;this.state=a.enabled!=null?!1:!0;this.imgEn=a.img!=null?a.img:"";this.imgDis=a.imgdis!=null?a.imgdis:"";this.img=this.state?this.imgEn!=""?this.imgEn:"":this.imgDis!=""?this.imgDis:"";this.obj=document.createElement("DIV");this.obj.pressed=a.selected!=null;this.obj.extAction=a.action||null;this.obj.className="dhx_toolbar_btn "+(this.obj.pressed?this.state?"pres":"dis":this.state?"def":"dis");this.obj.style.display=
a.hidden!=null?"none":"";this.obj.renderAs=this.obj.className;this.obj.idd=String(d);this.obj.title=a.title||"";if(this.obj.pressed)this.obj.renderAs="dhx_toolbar_btn over";this.obj.innerHTML=b._rtlParseBtn(this.img!=""?"<img src='"+b.imagePath+this.img+"'>":"",a.text!=null?"<div>"+a.text+"</div>":"");b.base.appendChild(this.obj);var c=this;this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.onmouseover=function(){this._doOnMouseOver()};this.obj.onmouseout=function(){this._doOnMouseOut()};
this.obj._doOnMouseOver=function(){if(c.state!=!1&&b.anyUsed=="none"&&!this.pressed)this.renderAs=this.className="dhx_toolbar_btn over"};this.obj._doOnMouseOut=function(){if(c.state!=!1&&b.anyUsed=="none"&&!this.pressed)this.renderAs=this.className="dhx_toolbar_btn def"};this.obj[b._isIPad?"ontouchstart":"onmousedown"]=function(){if((!b.checkEvent("onBeforeStateChange")||b.callEvent("onBeforeStateChange",[this.idd.replace(b.idPrefix,""),this.pressed]))&&c.state!=!1&&b.anyUsed=="none"){this.className=
(this.pressed=!this.pressed)?"dhx_toolbar_btn pres":this.renderAs;var a=this.idd.replace(b.idPrefix,"");if(this.extAction)try{window[this.extAction](a,this.pressed)}catch(d){}b.callEvent("onStateChange",[a,this.pressed]);this._doOnMouseOut();return!1}};this.setItemState=function(a,c){if(this.obj.pressed!=a&&(a==!0?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn pres",this.obj.renderAs="dhx_toolbar_btn over"):(this.obj.pressed=!1,this.obj.className="dhx_toolbar_btn def",this.obj.renderAs=
this.obj.className),c==!0)){var d=this.obj.idd.replace(b.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](d,this.obj.pressed)}catch(i){}b.callEvent("onStateChange",[d,this.obj.pressed])}};this.getItemState=function(){return this.obj.pressed};this.enableItem=function(){b._enableItem(this)};this.disableItem=function(){b._disableItem(this)};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display=
"none"};this.isVisible=function(){return this.obj.style.display==""};this.setItemText=function(a){b._setItemText(this,a)};this.getItemText=function(){return b._getItemText(this)};this.setItemImage=function(a){b._setItemImage(this,a,!0)};this.clearItemImage=function(){b._clearItemImage(this,!0)};this.setItemImageDis=function(a){b._setItemImage(this,a,!1)};this.clearItemImageDis=function(){b._clearItemImage(this,!1)};this.setItemToolTip=function(a){this.obj.title=a};this.getItemToolTip=function(){return this.obj.title};
return this};
dhtmlXToolbarObject.prototype._sliderObject=function(b,d,a){this.id=b.idPrefix+d;this.state=a.enabled!=null?a.enabled=="true"?!0:!1:!0;this.obj=document.createElement("DIV");this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis");this.obj.style.display=a.hidden!=null?"none":"";this.obj.onselectstart=function(a){a=a||event;a.returnValue=!1};this.obj.idd=String(d);this.obj.len=a.length!=null?Number(a.length):50;this.obj.innerHTML="<div>"+(a.textMin||"")+"</div><div class='sl_bg_l'></div><div class='sl_bg_m' style='width:"+this.obj.len+
"px;'></div><div class='sl_bg_r'></div><div>"+(a.textMax||"")+"</div>";b.base.appendChild(this.obj);var c=this;this.pen=document.createElement("DIV");this.pen.className="sl_pen";this.obj.appendChild(this.pen);var e=this.pen;this.label=document.createElement("DIV");this.label.dir="ltr";this.label.className="dhx_toolbar_slider_label_"+b.skin+(b.rtl?"_rtl":"");this.label.style.display="none";this.label.tip=a.toolTip||"%v";document.body.appendChild(this.label);var f=this.label;this.pen.valueMin=a.valueMin!=
null?Number(a.valueMin):0;this.pen.valueMax=a.valueMax!=null?Number(a.valueMax):100;if(this.pen.valueMin>this.pen.valueMax)this.pen.valueMin=this.pen.valueMax;this.pen.valueNow=a.valueNow!=null?Number(a.valueNow):this.pen.valueMax;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;if(this.pen.valueNow<this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits=function(){this.minX=c.obj.childNodes[1].offsetLeft-4;this.maxX=c.obj.childNodes[3].offsetLeft-this.offsetWidth+
1};this.pen._detectLimits();this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX);this.style.left=this.nowX+"px";this.newNowX=this.nowX};this.pen._definePos();this.pen.initXY=0;this.pen.allowMove=!1;this.pen[b._isIPad?"ontouchstart":"onmousedown"]=function(a){if(c.state!=!1&&(a=a||event,this.initXY=b._isIPad?a.touches[0].clientX:a.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className="sl_pen over",
f.tip!=""))f.style.visibility="hidden",f.style.display="",f.innerHTML=f.tip.replace("%v",this.valueNow),f.style.left=Math.round(getAbsoluteLeft(this)+this.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(this)-f.offsetHeight-3+"px",f.style.visibility=""};this.pen._doOnMouseMoveStart=function(a){a=a||event;if(e.allowMove){var c=b._isIPad?a.touches[0].clientX:a.clientX,d=c-e.initXY;if(!(c<getAbsoluteLeft(e)+Math.round(e.offsetWidth/2)&&e.nowX==e.minX)&&!(c>getAbsoluteLeft(e)+Math.round(e.offsetWidth/
2)&&e.nowX==e.maxX)){e.newNowX=e.nowX+d;if(e.newNowX<e.minX)e.newNowX=e.minX;if(e.newNowX>e.maxX)e.newNowX=e.maxX;e.nowX=e.newNowX;e.style.left=e.nowX+"px";e.initXY=c;e.newValueNow=Math.round((e.valueMax-e.valueMin)*(e.newNowX-e.minX)/(e.maxX-e.minX)+e.valueMin);if(f.tip!="")f.innerHTML=f.tip.replace(/%v/gi,e.newValueNow),f.style.left=Math.round(getAbsoluteLeft(e)+e.offsetWidth/2-f.offsetWidth/2)+"px",f.style.top=getAbsoluteTop(e)-f.offsetHeight-3+"px";a.cancelBubble=!0;return a.returnValue=!1}}};
this.pen._doOnMouseMoveEnd=function(){if(e.allowMove){e.className="sl_pen";e.allowMove=!1;e.nowX=e.newNowX;e.valueNow=e.newValueNow;if(f.tip!="")f.style.display="none";b.callEvent("onValueChange",[c.obj.idd.replace(b.idPrefix,""),e.valueNow])}};b._isIPad?(document.addEventListener("touchmove",e._doOnMouseMoveStart,!1),document.addEventListener("touchend",e._doOnMouseMoveEnd,!1)):_isIE?(document.body.attachEvent("onmousemove",e._doOnMouseMoveStart),document.body.attachEvent("onmouseup",e._doOnMouseMoveEnd)):
(window.addEventListener("mousemove",e._doOnMouseMoveStart,!1),window.addEventListener("mouseup",e._doOnMouseMoveEnd,!1));this.enableItem=function(){if(!this.state)this.state=!0,this.obj.className="dhx_toolbar_btn def"};this.disableItem=function(){if(this.state)this.state=!1,this.obj.className="dhx_toolbar_btn dis"};this.isEnabled=function(){return this.state};this.showItem=function(){this.obj.style.display=""};this.hideItem=function(){this.obj.style.display="none"};this.isVisible=function(){return this.obj.style.display==
""};this.setValue=function(a,c){a=Number(a);if(a<this.pen.valueMin)a=this.pen.valueMin;if(a>this.pen.valueMax)a=this.pen.valueMax;this.pen.valueNow=a;this.pen._definePos();c==!0&&b.callEvent("onValueChange",[this.obj.idd.replace(b.idPrefix,""),this.pen.valueNow])};this.getValue=function(){return this.pen.valueNow};this.setMinValue=function(a,b){a=Number(a);if(!(a>this.pen.valueMax)){this.obj.childNodes[0].innerHTML=b;this.obj.childNodes[0].style.display=b.length>0?"":"none";this.pen.valueMin=a;if(this.pen.valueNow<
this.pen.valueMin)this.pen.valueNow=this.pen.valueMin;this.pen._detectLimits();this.pen._definePos()}};this.setMaxValue=function(a,b){a=Number(a);if(!(a<this.pen.valueMin)){this.obj.childNodes[4].innerHTML=b;this.obj.childNodes[4].style.display=b.length>0?"":"none";this.pen.valueMax=a;if(this.pen.valueNow>this.pen.valueMax)this.pen.valueNow=this.pen.valueMax;this.pen._detectLimits();this.pen._definePos()}};this.getMinValue=function(){var a=this.obj.childNodes[0].innerHTML,b=this.pen.valueMin;return[b,
a]};this.getMaxValue=function(){var a=this.obj.childNodes[4].innerHTML,b=this.pen.valueMax;return[b,a]};this.setItemToolTipTemplate=function(a){this.label.tip=a};this.getItemToolTipTemplate=function(){return this.label.tip};return this};
dhtmlXToolbarObject.prototype.unload=function(){this._isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):_isIE?document.body.detachEvent("onclick",this._doOnClick):window.removeEventListener("click",this._doOnClick,!1);this._doOnClick=null;this.clearAll();this.objPull=null;if(this._xmlLoader)this._xmlLoader.destructor(),this._xmlLoader=null;for(;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.cont.removeChild(this.base);for(this.base=null;this.cont.childNodes.length>
0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="";this.cont=null;this.detachAllEvents();this.items=this.setMaxOpen=this.getUserData=this.setUserData=this.unload=this.getListOptionSelected=this.setListOptionSelected=this.getAllListOptions=this.forEachListOption=this.clearListOptionImage=this.getListOptionImage=this.setListOptionImage=this.getListOptionToolTip=this.setListOptionToolTip=this.getListOptionText=this.setListOptionText=this.getListOptionPosition=this.setListOptionPosition=
this.isListOptionEnabled=this.disableListOption=this.enableListOption=this.isListOptionVisible=this.hideListOption=this.showListOption=this.removeListOption=this.addListOption=this.removeItem=this.setPosition=this.getPosition=this.getWidth=this.setWidth=this.getMaxValue=this.setMaxValue=this.getMinValue=this.setMinValue=this.getValue=this.setValue=this.getItemToolTipTemplate=this.setItemToolTipTemplate=this.getItemState=this.setItemState=this.clearItemImageDis=this.clearItemImage=this.setItemImageDis=
this.setItemImage=this.getItemToolTip=this.setItemToolTip=this.getItemText=this.setItemText=this.isEnabled=this.disableItem=this.enableItem=this.isVisible=this.hideItem=this.showItem=this.forEachItem=this.addInput=this.addSlider=this.addSeparator=this.addButtonTwoState=this.addButtonSelect=this.addText=this.addButton=this.getParentId=this.inArray=this.getTypeExt=this.getType=this.removeSpacer=this.addSpacer=this.clearAll=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=
this.attachEvent=this.loadXMLString=this.loadXML=this.setIconPath=this.setIconsPath=this.setSkin=this.setAlign=this._removeItem=this._autoDetectVisibleArea=this._sliderObject=this._buttonTwoStateObject=this._buttonInputObject=this._buttonSelectObject=this._buttonObject=this._textObject=this._separatorObject=this._getIdByPosition=this._setPosition=this._getPosition=this._addItem=this._genStr=this._addItemToStorage=this._doOnLoad=this._xmlParser=this._disableItem=this._enableItem=this._getItemText=
this._setItemText=this._clearItemImage=this._setItemImage=this._addImgObj=this._getObj=this._sbw=this.setRTL=this._rtlParseBtn=this._rtl=this.skin=this.selectPolygonOffsetTop=this.selectPolygonOffsetLeft=this.rootTypes=this.imagePath=this.idPrefix=this.anyUsed=this.align=this._isWebToolbar=this._isIE6=this.tY2=this.tY1=this.tX2=this.tX1=null};
dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){this.tX1=document.body.scrollLeft;this.tX2=this.tX1+(window.innerWidth||document.body.clientWidth);this.tY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop);this.tY2=this.tY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)};
dhtmlXToolbarObject.prototype.setUserData=function(b,d,a){if(this.objPull[this.idPrefix+b]!=null){var c=this.objPull[this.idPrefix+b];if(c.userData==null)c.userData={};c.userData[d]=a}};dhtmlXToolbarObject.prototype.getUserData=function(b,d){return this.objPull[this.idPrefix+b]==null?null:this.objPull[this.idPrefix+b].userData==null?null:this.objPull[this.idPrefix+b].userData[d]==null?null:this.objPull[this.idPrefix+b].userData[d]};
dhtmlXToolbarObject.prototype._isListOptionExists=function(b,d){if(this.objPull[this.idPrefix+b]==null)return!1;var a=this.objPull[this.idPrefix+b];return a.type!="buttonSelect"?!1:a._listOptions[d]==null?!1:!0};dhtmlXToolbarObject.prototype.setListOptionUserData=function(b,d,a,c){if(this._isListOptionExists(b,d)){var e=this.objPull[this.idPrefix+b]._listOptions[d];if(e.userData==null)e.userData={};e.userData[a]=c}};
dhtmlXToolbarObject.prototype.getListOptionUserData=function(b,d,a){if(!this._isListOptionExists(b,d))return null;var c=this.objPull[this.idPrefix+b]._listOptions[d];return!c.userData?null:c.userData[a]?c.userData[a]:null};
(function(){dhtmlx.extend_api("dhtmlXToolbarObject",{_init:function(b){return[b.parent,b.skin]},icon_path:"setIconsPath",xml:"loadXML",items:"items",align:"setAlign",rtl:"setRTL",skin:"setSkin"},{items:function(b){for(var d=0;d<b.length;d++){var a=b[d];a.type=="button"&&this.addButton(a.id,null,a.text,a.img,a.img_disabled);a.type=="separator"&&this.addSeparator(a.id,null);a.type=="text"&&this.addText(a.id,null,a.text);a.type=="buttonSelect"&&this.addButtonSelect(a.id,null,a.text,a.options,a.img,a.img_disabled);
a.type=="buttonTwoState"&&this.addButtonTwoState(a.id,null,a.text,a.img,a.img_disabled);a.type=="buttonInput"&&this.addInput(a.id,null,a.text);a.type=="slider"&&this.addSlider(a.id,null,a.length,a.value_min,a.value_max,a.value_now,a.text_min,a.text_max,a.tip_template);a.width&&this.setWidth(a.id,a.width);a.disabled&&this.disableItem(a.id);a.tooltip&&this.setItemToolTip(a.id,a.tooltip);a.pressed===!0&&this.setItemState(a.id,!0)}}})})();

//v.3.0 build 110707

/*
Copyright DHTMLX LTD. http://www.dhtmlx.com
You allowed to use this component or parts of it under GPL terms
To use it on other terms or get Professional edition of the component please contact us at sales@dhtmlx.com
*/