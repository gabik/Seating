<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../codebase/default.css" type="text/css" media="screen" title="no title" charset="utf-8"><title>
    dhtmlxgrid:toc_dhtmlxgrid_step_by_step    [DHX documentation]
  </title></head>

<body>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
    <a class="logo" href="http://dhtmlx.com" title="DHTMLX Home Page"></a>
    <span class="tittle-dhtmlx">DHTMLX Docs & Samples Explorer</span>

    <div class="search-field">
        <form action="/dhtmlx/docs/doku.php" accept-charset="utf-8" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" title="Search" /><button type="submit"></button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>    </div>
        <div class="buttons">
                <a class="doc"></a>
                <a title="DHTMLX Samples homepage" href="../samples.html" class="sample"/></a>
        </div>
     <!-- <div class="pagename">
        [[<a href="#"  title="Backlinks">dhtmlxgrid:toc_dhtmlxgrid_step_by_step</a>]]
      </div>
      <div class="logo">
        <a href="/dhtmlx/docs/doku.php"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">DHX documentation</a>      </div>

      <div class="clearer"></div>-->
        
    </div>

    
<!--   <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
        <form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>        <form class="button btn_revs" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>      </div>

      <div class="bar-right" id="bar__topright">
        <form class="button btn_recent" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="recent" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>        <form action="/dhtmlx/docs/doku.php" accept-charset="utf-8" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" title="Search" /><button type="submit"></button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>&nbsp;
      </div>

      <div class="clearer"></div>
    </div> -->

<!--        <div class="breadcrumbs">
      <span class="bchead">Trace:</span> <span class="bcsep">&raquo;</span> <span class="curid"><a href="/dhtmlx/docs/doku.php?id=dhtmlxgrid:toc_dhtmlxgrid_step_by_step"  class="breadcrumbs" title="dhtmlxgrid:toc_dhtmlxgrid_step_by_step">toc_dhtmlxgrid_step_by_step</a></span>    </div>
    -->

    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="clear">

<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#dhtmlxgrid._step-by-step_guide._big_grid" class="toc">dhtmlxGrid. Step-by-step Guide. Big grid</a></span></div>
<ul class="toc">
<li class="level3"><div class="li"><span class="li"><a href="#introduction._what_is_this_all_about" class="toc">Introduction. What is this all about?</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#real_introduction" class="toc">Real Introduction</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#step_1._include_script_and_css_files_into_the_page" class="toc">Step 1. Include Script and CSS Files into the Page</a></span></div></li>
<li class="level3"><div class="li"><span class="li"><a href="#step_2._initialization_of_grid_with_smart_rendering" class="toc">Step 2. Initialization of Grid with Smart Rendering</a></span></div></li></ul>
</li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<p>
<div class='backlinks'><div class='backlink last_backlink'><img src="icons___file.gif"  class="media" alt="" /><a href="../index.html" class="wikilink1" title="start">Index</a></div><div class='arrow'></div><div class='backlink last_backlink'><img src="icons___grid.gif"  class="media" alt="" /><a href="index.html" class="wikilink1" title="dhtmlxgrid:toc">dhtmlxgrid</a></div></div>

</p>

<h2><a name="dhtmlxgrid._step-by-step_guide._big_grid" id="dhtmlxgrid._step-by-step_guide._big_grid">dhtmlxGrid. Step-by-step Guide. Big grid</a></h2>
<div class="level2">

</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="53-105" /><input type="hidden" name="rev" value="1279031289" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit" class="button" title="dhtmlxGrid. Step-by-step Guide. Big grid" /></div></form></div>
<h3><a name="introduction._what_is_this_all_about" id="introduction._what_is_this_all_about">Introduction. What is this all about?</a></h3>
<div class="level3">

<p>
I&#039;ve deleted a file recently. In a few moments I understood that it was a mistake (not the only one that day, to be honest). One would think: “What can be easier?” Just double-click the Recycle Bin and… I &#039;ve been waiting for 3 minutes, scrolling down, waiting again. My file was among thousands of others (right, I know it would be good to empty the Recycle Bin sometimes) and it took Windows (! - not even the web application, but Windows Explorer) minutes before I could scroll to the very bottom until I found my file. And then I thought: this can never happen with dhtmlxGrid!
</p>

<p>

Now I&#039;m going to show you why.
</p>

</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="106-774" /><input type="hidden" name="rev" value="1279031289" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit" class="button" title="Introduction. What is this all about?" /></div></form></div>
<h3><a name="real_introduction" id="real_introduction">Real Introduction</a></h3>
<div class="level3">

<p>
Keeping  thousands of records in grid is a common requirement for most business applications. These records can be goods, names of employees, invoices, customers, some history records, etc. They can also be files for sure…  So, if you are developing a web application with a grid, you definitely need a grid control that is able to display…let&#039;s say… the whole list of you wife&#039;s purchases for the last two months, or the list of all possible reasons you can invent in order not to work on Sunday (which are going to be really long lists).
</p>

<p>

dhtmlxGrid is the very component you need!
</p>

<p>

This step-by-step tutorial will let you load 50,000 records into your grid and still have it working fast.
</p>

<p>

Firstly, let me outline a problem.
</p>

<p>

For example, you load a dataset with 10,000 records. Let&#039;s make some calculations.
It takes a second to load this dataset from the server to your browser (probably, it takes more or less time depending on your connection speed), half a second to convert it to grid internal format, and 0.01 second to draw each row in the grid (all these figures are approximate, but you get the idea, I hope).
</p>

<p>

The result of our calculation is 1+0.5+0.01*10000 = 101,5. It comes out more than a minute. So, you can go to the kitchen to make a cup of coffee… and even drink it if your computer is not fast enough. But why do you need to wait for 10,000 records to be drawn? We also think that you don&#039;t! You just need the first 100 rows to start working with as it is this number of rows that is visible in the grid frame.  
</p>

<p>

So we added some ingenious code to the grid and called this new possibility “Smart Rendering”, as our grid now needs to be smart enough to know which records to draw and which of them should be put off.
</p>

<p>

There are two variants of Smart Rendering in dhtmlxGrid:
</p>

<p>

You just turn Smart Rendering on and load the entire dataset with loadXML(…) method. This way is easy and doesn&#039;t require any server side support but… (as there are always some “buts”). If you load 100,000 records at once, they will take some memory of your computer. Not a big deal, but still it can affect the performance. What is more, this variant is available only for Grid Professional Edition users.
You put the dataset into your browser by portions (dynamic loading). Grid will tell you what portion it needs (start and end record index).
</p>

<p>
Thus, for the first variant the format of <acronym title="Extensible Markup Language">XML</acronym> remains the same as common grid, and it generally can be a static <acronym title="Extensible Markup Language">XML</acronym> file:

</p>
<pre class="code xml">  <span class="sc3"><span class="re1">&lt;rows<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;row</span> <span class="re0">id</span>=<span class="st0">&quot;xx&quot;</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;cell<span class="re2">&gt;</span></span></span>
          ...
          <span class="sc3"><span class="re1">&lt;/cell<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/row<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/rows<span class="re2">&gt;</span></span></span></pre>
<p>

For the variant with dynamic loading it gets two additional parameters and (as far as we should process some incoming arguments) needs to be created dynamically with some server side programming language:

</p>
<pre class="code xml">  <span class="sc3"><span class="re1">&lt;rows</span> <span class="re0">total_count</span>=<span class="st0">&quot;x&quot;</span> <span class="re0">pos</span>=<span class="st0">&quot;y&quot;</span><span class="re2">&gt;</span></span>
      <span class="sc3"><span class="re1">&lt;row</span> <span class="re0">id</span>=<span class="st0">&quot;xx&quot;</span><span class="re2">&gt;</span></span>
          <span class="sc3"><span class="re1">&lt;cell<span class="re2">&gt;</span></span></span>
          ...
          <span class="sc3"><span class="re1">&lt;/cell<span class="re2">&gt;</span></span></span>
      <span class="sc3"><span class="re1">&lt;/row<span class="re2">&gt;</span></span></span>
  <span class="sc3"><span class="re1">&lt;/rows<span class="re2">&gt;</span></span></span></pre>
<p>

Thus, this tutorial is not just about JavaScript, but also about server side a little. I&#039;ll show you server side code for <acronym title="Hypertext Preprocessor">PHP</acronym>, <acronym title="Active Server Pages">ASP</acronym>, JSP, ColdFusion. But let&#039;s do everything in its turn.
By the way, if some of the readers can send me necessary code for some other languages/technologies, I&#039;ll definitely put it here with big gratitude to the author.
</p>

</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="775-4119" /><input type="hidden" name="rev" value="1279031289" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit" class="button" title="Real Introduction" /></div></form></div>
<h3><a name="step_1._include_script_and_css_files_into_the_page" id="step_1._include_script_and_css_files_into_the_page">Step 1. Include Script and CSS Files into the Page</a></h3>
<div class="level3">

<p>
And again we start with including external JavaScript and <acronym title="Cascading Style Sheets">CSS</acronym> files into the page. In addition to the files we included in the previous chapter we&#039;ll use Smart Rendering extension to work with large amounts of data but still keep the grid fast. So additional file is ext/dhtmlxgrid_srnd.js:

</p>
<pre class="code html4strict">  <span class="sc2">&lt;<a href="http://december.com/html/4/element/link.html"><span class="kw2">link</span></a> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;STYLESHEET&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;codebase/dhtmlxgrid.css&quot;</span>&gt;</span>
  <span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;codebase/dhtmlxcommon.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
  <span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;codebase/dhtmlxgrid.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
  <span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;codebase/dhtmlxgridcell.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
  <span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;codebase/ext/dhtmlxgrid_srnd.js&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
  <span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
      var gridQString = &quot;&quot;;//we'll save here the last url with query string we used for loading grid (see step 5 for details)
      //we'll use this script block for functions
  <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span></pre>
</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="4120-4978" /><input type="hidden" name="rev" value="1279031289" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit" class="button" title="Step 1. Include Script and CSS Files into the Page" /></div></form></div>
<h3><a name="step_2._initialization_of_grid_with_smart_rendering" id="step_2._initialization_of_grid_with_smart_rendering">Step 2. Initialization of Grid with Smart Rendering</a></h3>
<div class="level3">

<p>
Depending on the data structure you&#039;ll need a grid with different columns set. I have 4 columns in the database table - unique ID (id), some name (nm), related alphanumeric code (code) and numeric value (num_val) (You can get the  <a href="http://support.dhtmlx.com/x-files/documentation/sampledb.zip" class="urlextern" title="http://support.dhtmlx.com/x-files/documentation/sampledb.zip"  rel="nofollow">sql file</a>. It contains only 5,000 records to minimize its size).
</p>

<p>

This is an abstract sample, but we can think about those names as the names of some pharmaceuticals (it is not in reason to expect them to be something else), the codes will be their internal product codes, and numeric values will be the prices. So initialization code for such kind of a grid will be as follows:

</p>
<pre class="code html4strict">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;products_grid&quot;</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;width:500px;height:200px;&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></pre><pre class="code javascript">        <span class="kw2">var</span> mygrid <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXGridObject<span class="br0">&#40;</span><span class="st0">'products_grid'</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">setImagePath</span><span class="br0">&#40;</span><span class="st0">&quot;codebase/imgs/&quot;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">setHeader</span><span class="br0">&#40;</span><span class="st0">&quot;Product Name,Internal Code,Price&quot;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">setInitWidths</span><span class="br0">&#40;</span><span class="st0">&quot;*,150,150&quot;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">setColAlign</span><span class="br0">&#40;</span><span class="st0">&quot;left,left,right&quot;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">setSkin</span><span class="br0">&#40;</span><span class="st0">&quot;modern&quot;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">init</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
        mygrid.<span class="me1">enableSmartRendering</span><span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span>;</pre>
<p>

As you probably remember from the previous chapter, I used body “onload” event to call grid initialization function. The code mentioned above is another case as it calls script methods on the page placing them after DIV container we want to place our grid into. The goal here is the same: to call the grid constructor after the DIV container was initialized.
</p>

<p>

So what is new in this script? A new line of code was added to enable Smart Rendering. As you see it is quite simple: just one command and you are ready to load thousands of records. Very simple indeed.
</p>

<p>

So here is what we have now:
</p>

<p>

<img src="dhtmlxgrid___dcbhphmh_13c73cv7vk_b.gif"  class="media" alt="" />
</p>

<p>

<a href="dhtmlxgrid___step_3_loading_data_server_side_support_for_smart_rendering.html" class="wikilink1" title="dhtmlxgrid:step_3_loading_data_server_side_support_for_smart_rendering">Step 3. Loading Data. Server side Support for Smart Rendering</a>
</p>

<p>
<a href="dhtmlxgrid___step_4_filtering_passing_parameters.html" class="wikilink1" title="dhtmlxgrid:step_4_filtering_passing_parameters">Step 4. Filtering. Passing Additional Parameters to Server Side</a>
</p>

<p>
<a href="dhtmlxgrid___step_5_server_side_sorting.html" class="wikilink1" title="dhtmlxgrid:step_5_server_side_sorting">Step 5. Server Side Sorting.</a>
</p>

</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="4979-" /><input type="hidden" name="rev" value="1279031289" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit" class="button" title="Step 2. Initialization of Grid with Smart Rendering" /></div></form></div>
    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
     <!-- <div class="doc">
        dhtmlxgrid/toc_dhtmlxgrid_step_by_step.txt &middot; Last modified: 2010/07/13 17:28 (external edit)      </div>
    </div>-->

   
    <!--<div class="bar" id="bar__bottom">-->
      <!--<div class="bar-left" id="bar__bottomleft">-->
        <!--<form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>-->
        <!--<form class="button btn_revs" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>-->
      <!--</div>-->
      <!--<div class="bar-right" id="bar__bottomright">-->
        <!---->
        <!---->
        <!---->
        <!---->
        <!---->
        <!--<form class="button btn_index" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="index" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Index" class="button" accesskey="x" title="Index [X]" /></div></form>-->
        <!--<a class="nolink" href="#dokuwiki__top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" title="Back to top" /></a>&nbsp;-->
      <!--</div>-->
      <!--<div class="clearer"></div>-->
    <!--</div>-->

  </div>

  

</div>

<div class="footerinc">


</div>

<div class="no"><img src="/dhtmlx/docs/lib/exe/indexer.php?id=dhtmlxgrid%3Atoc_dhtmlxgrid_step_by_step&amp;1310069472" width="1" height="1" alt=""  /></div>
     <div class="footer">
        <div class="footer-logo"></div>
        <div class="copyright">Copyright © 1998-2011 DHTMLX LTD.<br />All rights reserved.</div>
        <form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxgrid:toc_dhtmlxgrid_step_by_step" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>    	    </div>
</body>
</html>
